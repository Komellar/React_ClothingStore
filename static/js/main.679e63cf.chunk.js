(this["webpackJsonpclothing-store"]=this["webpackJsonpclothing-store"]||[]).push([[0],[,,,,,,,,,,,function(e,t,n){e.exports={form:"NewCommentForm_form__2PFUj",inputs:"NewCommentForm_inputs__3q6_Z",stars:"NewCommentForm_stars__2yuhF",star:"NewCommentForm_star__3S_Xs","star-active":"NewCommentForm_star-active__37EDn","form-control":"NewCommentForm_form-control__24bYZ",invalid:"NewCommentForm_invalid__7x2Gn",error:"NewCommentForm_error__3yjBL","error-sending":"NewCommentForm_error-sending__u7MTW",btn:"NewCommentForm_btn__1uei7",disabled:"NewCommentForm_disabled__swBji","btn-loading":"NewCommentForm_btn-loading__3YICj"}},function(e,t,n){e.exports={auth:"AuthForm_auth__1c8Zk",avatar:"AuthForm_avatar__3zqPr","avatar-img":"AuthForm_avatar-img__mu_n0",icon:"AuthForm_icon__xe0Ea",control:"AuthForm_control___rDkn",error:"AuthForm_error__2ilEw",actions:"AuthForm_actions__1CGaT",toggle:"AuthForm_toggle__3Co4g",disabled:"AuthForm_disabled__3HcU8"}},,,,,function(e,t,n){e.exports={container:"ClothDetails_container__2yCDu",name:"ClothDetails_name__1bPF_",image:"ClothDetails_image__2ZoNp",desc:"ClothDetails_desc__3zsYx",price:"ClothDetails_price__2Uh68","average-rating":"ClothDetails_average-rating__xX8gv",stars:"ClothDetails_stars__DpPop",star:"ClothDetails_star__2hCkz","star-active":"ClothDetails_star-active__1Myuf",buttons:"ClothDetails_buttons__1udZI","btn-comments":"ClothDetails_btn-comments__3Y_6B",comments:"ClothDetails_comments__1s1Y5"}},function(e,t,n){e.exports={"profile-content":"Profile_profile-content__2rClq","profile-avatar":"Profile_profile-avatar__1SLcT","reset-btn":"Profile_reset-btn__1vJSf","password-form":"Profile_password-form__2HraI",label:"Profile_label__1NbxR",password:"Profile_password__glU_Y","submit-password":"Profile_submit-password__3OT5k",correct:"Profile_correct__25v91",error:"Profile_error__mopRc"}},,function(e,t,n){e.exports={information:"InformationBanner_information__1nm04",container:"InformationBanner_container__2Az5N",column:"InformationBanner_column__2eOxm",icon:"InformationBanner_icon__2Vus8"}},function(e,t,n){e.exports={list:"CommentsList_list__2X874","list-item":"CommentsList_list-item__2b2nv",avatar:"CommentsList_avatar__2v4Mc",star:"CommentsList_star__23r63","star-active":"CommentsList_star-active__1vydW",comment:"CommentsList_comment__31RR7",username:"CommentsList_username__1FXV_","comment-span":"CommentsList_comment-span__1av82"}},,,,,function(e,t,n){e.exports={items:"Cart_items__3Upl3",total:"Cart_total__1D_WJ","modal-actions":"Cart_modal-actions__2kmur","button--close":"Cart_button--close__1v57z"}},function(e,t,n){e.exports={"cart-item":"CartItem_cart-item__bji4w",summary:"CartItem_summary__nxOf5",price:"CartItem_price__1-E3v",amount:"CartItem_amount__3Uygv",actions:"CartItem_actions__1gyU4"}},function(e,t,n){e.exports={item:"ClothItem_item__23-f6","image-section":"ClothItem_image-section__2lt2b",image:"ClothItem_image__3h8le",name:"ClothItem_name__RcHaC",price:"ClothItem_price__2mnyB"}},,function(e,t,n){e.exports={header:"Header_header__bxL65",span:"Header_span__2-JMt",logo:"Header_logo__3OJpx","header-buttons":"Header_header-buttons__1p8Ms"}},,,function(e,t,n){e.exports={collection:"NewCollectionBanner_collection__31npO",image:"NewCollectionBanner_image__3BF7M",shadow:"NewCollectionBanner_shadow__1JA_I"}},function(e,t,n){e.exports={"cart-btn":"HeaderButton_cart-btn__cMwII",icon:"HeaderButton_icon__3H9_K",quantity:"HeaderButton_quantity__3bEhS"}},function(e,t,n){e.exports={"btn-add":"Comments_btn-add__3KE1C",center:"Comments_center__2cx_U",centered:"Comments_centered__1gVNA"}},,,,,function(e,t,n){e.exports={"auth-btn":"LoginButton_auth-btn__35Q3v"}},,function(e,t,n){e.exports={"clothes-list":"AvalibleClothes_clothes-list__4Hzh3"}},function(e,t,n){e.exports={newsletter:"NewsletterBanner_newsletter__2Z-3t"}},function(e,t,n){e.exports={"profile-btn":"ProfileButton_profile-btn__1FX1W"}},,,,,,,,function(e,t,n){},,,,function(e,t,n){},function(e,t,n){},,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(22),s=n.n(c),o=n(7),i=n(25),l=Object(i.b)({name:"auth",initialState:{token:localStorage.getItem("token")?localStorage.getItem("token"):"",isLoggedIn:!!localStorage.getItem("token")},reducers:{login:function(e,t){e.token=t.payload,e.isLoggedIn=""!==t.payload,localStorage.setItem("token",t.payload)},logout:function(e){e.token="",e.isLoggedIn=!1,localStorage.removeItem("token")}}}),u=l.actions,m=l,d=localStorage.getItem("myCart"),j=JSON.parse(d),b=Object(i.b)({name:"cart",initialState:{items:j||[],totalQuantity:j?function(){var e=0;return j.forEach((function(t){e+=t.quantity})),e}():0,totalCartPrice:j?function(){var e=0;return j.forEach((function(t){e+=t.quantity*t.price})),e}():0},reducers:{addItemToCart:function(e,t){var n=t.payload,a=e.items.find((function(e){return e.id===n.id}));e.totalQuantity+=n.quantity,e.totalCartPrice+=n.quantity*n.price,a?(a.quantity+=n.quantity,a.totalPrice+=n.quantity*n.price):e.items.push({id:n.id,name:n.name,price:n.price,quantity:n.quantity,totalPrice:n.quantity*n.price}),localStorage.setItem("myCart",JSON.stringify(e.items))},removeItemFromCart:function(e,t){var n=t.payload,a=e.items.find((function(e){return e.id===n}));e.totalQuantity--,e.totalCartPrice-=a.price,1===a.quantity?e.items=e.items.filter((function(e){return e.id!==n})):(a.quantity--,a.totalPrice-=a.price),localStorage.setItem("myCart",JSON.stringify(e.items))},resetCart:function(e){localStorage.removeItem("myCart"),e.items=[],e.totalQuantity=0,e.totalCartPrice=0}}}),h=b.actions,p=b,f=Object(i.a)({reducer:{cart:p.reducer,auth:m.reducer}}),O=(n(52),n(5)),x=n(6),_=n(19),g=n(38),v=n(23);_.b.add(v.e),_.b.add(v.b),_.b.add(v.f,g.b,g.a),_.b.add(v.c,v.d,v.a);n(56),n(57);var y=n(0),N=function(e){return Object(y.jsx)("div",{className:"backdrop",onClick:e.onClose})},C=function(e){return Object(y.jsx)("div",{className:"modal",children:Object(y.jsx)("div",{className:"content",children:e.children})})},w=document.getElementById("overlays"),k=function(e){return Object(y.jsxs)(r.a.Fragment,{children:[s.a.createPortal(Object(y.jsx)(N,{onClose:e.onClose}),w),s.a.createPortal(Object(y.jsx)(C,{children:e.children}),w)]})},S=n(26),I=n.n(S),T=n(27),F=n.n(T),P=function(e){var t=Object(o.b)();return Object(y.jsxs)("li",{className:F.a["cart-item"],children:[Object(y.jsxs)("div",{children:[Object(y.jsx)("h3",{children:e.name}),Object(y.jsxs)("div",{className:F.a.summary,children:[Object(y.jsxs)("span",{className:F.a.price,children:["$",e.price.toFixed(2)]}),Object(y.jsxs)("span",{className:F.a.amount,children:["x",e.quantity]})]})]}),Object(y.jsxs)("div",{className:F.a.actions,children:[Object(y.jsx)("button",{onClick:function(){t(h.removeItemFromCart(e.id))},children:"-"}),Object(y.jsx)("button",{onClick:function(){t(h.addItemToCart({id:e.id,name:e.name,price:e.price,quantity:1}))},children:"+"})]})]})},R=function(e){var t=Object(o.b)(),n=Object(o.c)((function(e){return e.cart.items})),a=Object(o.c)((function(e){return e.cart.totalCartPrice})),c=Object(y.jsx)("ul",{className:I.a.items,children:n.map((function(e){return Object(y.jsx)(P,{id:e.id,name:e.name,price:e.price,quantity:e.quantity},e.id)}))}),s=Object(y.jsxs)("div",{className:I.a["modal-actions"],children:[Object(y.jsx)("button",{className:I.a["button--close"],onClick:e.onClose,children:"Close"}),Object(y.jsx)("button",{className:I.a.button,onClick:function(){t(h.resetCart())},children:"Order"})]});return Object(y.jsx)(k,{onClose:e.onClose,children:Object(y.jsxs)(r.a.Fragment,{children:[c,Object(y.jsxs)("div",{className:I.a.total,children:[Object(y.jsx)("h3",{children:"Total Amount"}),Object(y.jsxs)("p",{children:["$",a.toFixed(2)]})]}),s]})})},q=n(2),E=n.n(q),A=n(8),L=function(e){var t=Object(a.useState)(!1),n=Object(O.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(null),o=Object(O.a)(s,2),i=o[0],l=o[1],u=Object(a.useState)([]),m=Object(O.a)(u,2),d=m[0],j=m[1];return{sendRequest:Object(a.useCallback)(function(){var t=Object(A.a)(E.a.mark((function t(n){var a,r=arguments;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(!(r.length>1&&void 0!==r[1])||r[1])){t.next=15;break}return c(!0),t.prev=3,t.next=6,e(n);case 6:a=t.sent,j(a),c(!1),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(3),c(!1),l(t.t0.message||"Something went wrong!");case 15:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e){return t.apply(this,arguments)}}(),[e]),data:d,isLoading:r,error:i}},U="https://react-clothing-store-b7a1b-default-rtdb.europe-west1.firebasedatabase.app/",V="AIzaSyAXZm_0ROKGRMpfXcxCNUv84NUZY4DcEsY";function B(e){return D.apply(this,arguments)}function D(){return(D=Object(A.a)(E.a.mark((function e(t){var n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=".concat(V),{method:"POST",body:JSON.stringify({email:t.email,password:t.password,returnSecureToken:!0}),headers:{"Content-Type":"application/json"}});case 2:return n=e.sent,e.next=5,n.json();case 5:if(a=e.sent,n.ok){e.next=8;break}throw new Error(a.error.message||"Authentication failed.");case 8:return e.abrupt("return",{data:a});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(e){return H.apply(this,arguments)}function H(){return(H=Object(A.a)(E.a.mark((function e(t){var n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=".concat(V),{method:"POST",body:JSON.stringify({email:t.email,password:t.password,returnSecureToken:!0}),headers:{"Content-Type":"application/json"}});case 2:return n=e.sent,e.next=5,n.json();case 5:if(a=e.sent,n.ok){e.next=8;break}throw new Error(a.error.message||"Authentication failed.");case 8:return e.abrupt("return",{data:a});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e){return Y.apply(this,arguments)}function Y(){return(Y=Object(A.a)(E.a.mark((function e(t){var n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://identitytoolkit.googleapis.com/v1/accounts:update?key=".concat(V),{method:"POST",body:JSON.stringify({idToken:t.idToken,displayName:t.name,photoUrl:t.photoUrl,deleteAttribute:[],returnSecureToken:!0}),headers:{"Content-Type":"application/json"}});case 2:return n=e.sent,e.next=5,n.json();case 5:if(a=e.sent,n.ok){e.next=8;break}throw new Error(a.error.message||"Updating user failed.");case 8:return e.abrupt("return",{data:a});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e){return M.apply(this,arguments)}function M(){return(M=Object(A.a)(E.a.mark((function e(t){var n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://identitytoolkit.googleapis.com/v1/accounts:lookup?key=".concat(V),{method:"POST",body:JSON.stringify({idToken:t.idToken}),headers:{"Content-Type":"application/json"}});case 2:return n=e.sent,e.next=5,n.json();case 5:if(a=e.sent,n.ok){e.next=8;break}throw new Error(a.error.message||"Updating user failed.");case 8:return e.abrupt("return",{data:a});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(e){return W.apply(this,arguments)}function W(){return(W=Object(A.a)(E.a.mark((function e(t){var n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://identitytoolkit.googleapis.com/v1/accounts:update?key=".concat(V),{method:"POST",body:JSON.stringify({idToken:t.idToken,password:t.password,returnSecureToken:!1}),headers:{"Content-Type":"application/json"}});case 2:return n=e.sent,e.next=5,n.json();case 5:if(a=e.sent,n.ok){e.next=8;break}throw new Error(a.error.message||"Updating password failed.");case 8:return e.abrupt("return",{data:a});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(){return G.apply(this,arguments)}function G(){return(G=Object(A.a)(E.a.mark((function e(){var t,n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://fakestoreapi.com/products/category/men's%20clothing");case 2:return t=e.sent,e.next=5,t.json();case 5:if(n=e.sent,t.ok){e.next=8;break}throw new Error(n.error.message||"Could not get products.");case 8:return a=n.map((function(e){return{id:e.id,title:e.title,description:e.description,price:e.price,image:e.image}})),e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(e){return K.apply(this,arguments)}function K(){return(K=Object(A.a)(E.a.mark((function e(t){var n,a,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://fakestoreapi.com/products/".concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:if(a=e.sent,n.ok){e.next=8;break}throw new Error(a.error.message||"Could not get product data.");case 8:return r={id:a.id,name:a.title,description:a.description,price:a.price,image:a.image},e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(e){return te.apply(this,arguments)}function te(){return(te=Object(A.a)(E.a.mark((function e(t){var n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(U,"/comments/").concat(t.productId,".json"),{method:"POST",body:JSON.stringify(t.commentData),headers:{"Content-Type":"application/json"}});case 2:return n=e.sent,e.next=5,n.json();case 5:if(a=e.sent,n.ok){e.next=8;break}throw new Error(a.error.message||"Could not add comment.");case 8:return e.abrupt("return",{commentId:a.name});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(e){return ae.apply(this,arguments)}function ae(){return(ae=Object(A.a)(E.a.mark((function e(t){var n,a,r,c,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(U,"/comments/").concat(t,".json"));case 2:return n=e.sent,e.next=5,n.json();case 5:if(a=e.sent,n.ok){e.next=8;break}throw new Error(a.error.message||"Could not get comments.");case 8:for(c in r=[],a)s={id:c,comment:a[c].comment,rating:a[c].rating,username:a[c].username,photoUrl:a[c].photoUrl},r.push(s);return e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(60);var re=n.p+"static/media/ties.e65ca23f.jpg",ce=n(10),se=n(28),oe=n.n(se),ie=function(e){return Object(y.jsxs)(ce.b,{to:"/React_ClothingStore/products/".concat(e.id),className:oe.a.item,children:[Object(y.jsx)("div",{className:oe.a["image-section"],children:Object(y.jsx)("img",{src:e.image,alt:"Item",className:oe.a.image})}),Object(y.jsx)("h3",{className:oe.a.name,children:e.name}),Object(y.jsxs)("p",{className:oe.a.price,children:["$",e.price]})]})},le=n(42),ue=n.n(le),me=function(e){return Object(y.jsx)("section",{className:ue.a["clothes-list"],children:e.clothes.map((function(e){return Object(y.jsx)(ie,{id:e.id,name:e.title,desc:e.description,price:e.price,image:e.image},e.id)}))})},de=(n(62),function(){return Object(y.jsxs)("section",{className:"summary-section",children:[Object(y.jsx)("h2",{children:"Elegant Clothes, Delivered To You"}),Object(y.jsx)("p",{children:"Choose your favorite cloth from our broad selection of available clothes and look good."}),Object(y.jsx)("p",{children:"All our clothes are made made of high-quality materials. They all are sewn by our experienced seamstresses!"})]})}),je=n(20),be=n.n(je),he=n(9),pe=function(e){return Object(y.jsx)("section",{className:be.a.information,children:Object(y.jsxs)("div",{className:be.a.container,children:[Object(y.jsxs)("div",{className:be.a.column,children:[Object(y.jsx)(he.a,{icon:"shield-alt",className:be.a.icon}),Object(y.jsx)("h5",{children:"SAFE SHOPPING"}),Object(y.jsx)("p",{children:"When you buy in our store, you are guaranteed safe purchases and payments"})]}),Object(y.jsxs)("div",{className:be.a.column,children:[Object(y.jsx)(he.a,{icon:"shipping-fast",className:be.a.icon}),Object(y.jsx)("h5",{children:"FAST SHIPPING"}),Object(y.jsx)("p",{children:"We guarantee quick shipping"})]}),Object(y.jsxs)("div",{className:be.a.column,children:[Object(y.jsx)(he.a,{icon:"money-bill",className:be.a.icon}),Object(y.jsx)("h5",{children:"BEST PRICES"}),Object(y.jsx)("p",{children:"Great poducts at the best prices"})]})]})})},fe=n(33),Oe=n.n(fe),xe=function(){return Object(y.jsx)("section",{className:Oe.a.collection,children:Object(y.jsx)("div",{className:Oe.a.image,children:Object(y.jsxs)("div",{className:Oe.a.shadow,children:[Object(y.jsx)("h5",{children:"New Collection"}),Object(y.jsx)("button",{children:"SEE NOW"})]})})})},_e=n(43),ge=n.n(_e),ve=function(){return Object(y.jsxs)("section",{className:ge.a.newsletter,children:[Object(y.jsx)("h4",{children:"-5%"}),Object(y.jsx)("h5",{children:"Join our community to receive a discount code. Stay up to date!"}),Object(y.jsx)("button",{children:"JOIN"})]})},ye=function(){var e=L(X),t=e.sendRequest,n=e.data,c=e.isLoading,s=e.error;Object(a.useEffect)((function(){var e=!0;return setTimeout((function(){t(null,e)}),1),function(){return e=!1}}),[t]);var o=Object(y.jsx)("p",{className:"db-message empty",children:"Found no clothes."});return n.length>0&&(o=Object(y.jsx)(me,{clothes:n})),s&&(o=Object(y.jsx)("p",{className:"db-message error",children:s})),c&&(o=Object(y.jsx)("p",{className:"db-message",children:"Loading..."})),Object(y.jsxs)(r.a.Fragment,{children:[Object(y.jsx)("div",{className:"ties-image",children:Object(y.jsx)("img",{src:re,alt:"Ties"})}),Object(y.jsx)(de,{}),Object(y.jsx)(pe,{}),Object(y.jsx)(xe,{}),o,Object(y.jsx)(ve,{})]})},Ne=function(){return Object(y.jsx)("h1",{style:{textAlign:"center",marginTop:"10rem"},children:"Page Not Found!"})},Ce=n(30),we=n.n(Ce),ke=n(34),Se=n.n(ke),Ie=function(e){return Object(y.jsxs)("div",{className:Se.a["cart-btn"],onClick:e.onOpen,children:[Object(y.jsx)(he.a,{icon:"shopping-cart",className:Se.a.icon}),Object(y.jsx)("p",{className:Se.a.quantity,children:e.itemsQuantity})]})},Te=n(40),Fe=n.n(Te),Pe=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.auth.isLoggedIn})),n=Object(y.jsx)(ce.b,{to:"/React_ClothingStore/auth",className:Fe.a["auth-btn"],children:"Login"});return t&&(n=Object(y.jsx)(ce.b,{to:"/React_ClothingStore/home",className:Fe.a["auth-btn"],onClick:function(){e(u.logout())},children:"Logout"})),Object(y.jsx)("div",{children:n})},Re=n(44),qe=n.n(Re),Ee=function(){var e=Object(o.c)((function(e){return e.auth.isLoggedIn}));return Object(y.jsx)("div",{children:e&&Object(y.jsx)(ce.b,{to:"/React_ClothingStore/profile",className:qe.a["profile-btn"],children:"Profile"})})},Ae=function(e){var t=Object(o.c)((function(e){return e.cart.totalQuantity}));return Object(y.jsx)(r.a.Fragment,{children:Object(y.jsxs)("header",{className:we.a.header,children:[Object(y.jsxs)("div",{className:we.a.span,children:[Object(y.jsx)(ce.b,{to:"/React_ClothingStore/home",className:we.a.logo,children:"Clothing store"}),Object(y.jsx)(Ie,{onOpen:e.onOpen,itemsQuantity:t})]}),Object(y.jsxs)("div",{className:we.a["header-buttons"],children:[Object(y.jsx)(Ee,{}),Object(y.jsx)(Pe,{})]})]})})},Le=n(24),Ue=n(17),Ve=n.n(Ue),Be=n(35),De=n.n(Be),Je=/^(?!\s)[A-Za-z_][A-Za-z0-9_():'"#^.?,!\s]+$/,He=function(e){return Je.test(e)},ze=function(e){return e.trim().length>2},Ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Use only valid symbols!",n=Object(a.useState)(""),r=Object(O.a)(n,2),c=r[0],s=r[1],o=Object(a.useState)(!1),i=Object(O.a)(o,2),l=i[0],u=i[1],m=Object(a.useState)(!0),d=Object(O.a)(m,2),j=d[0],b=d[1],h=Object(a.useState)(null),p=Object(O.a)(h,2),f=p[0],x=p[1],_=function(e){s(e)},g=function(){var n=!(!ze(c)||!e(c));u(!0),b(n),x((function(){return n?null:ze(c)?e(c)?void 0:t:"Value is too short!"}))};return{inputValue:c,isTouched:l,isValid:j,error:f,changeValue:_,checkValidity:g}},Ze=n(11),Me=n.n(Ze),Qe=function(e){var t=Object(a.useState)(!1),n=Object(O.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(0),o=Object(O.a)(s,2),i=o[0],l=o[1],u=Object(a.useRef)(),m=Object(x.h)().productId,d=localStorage.getItem("token"),j=L(Z),b=j.sendRequest,h=j.data;Object(a.useEffect)((function(){b({idToken:d})}),[b,d]);var p=L(ee),f=p.sendRequest,_=p.error,g=p.isLoading,v=Ye(),N=v.inputValue,C=v.isTouched,w=v.isValid,k=v.error,S=v.changeValue,I=v.checkValidity,T=function(){var t=Object(A.a)(E.a.mark((function t(n){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),r){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,f({commentData:{username:h.data.users[0].displayName,photoUrl:h.data.users[0].photoUrl,comment:N,rating:i},productId:m});case 5:e.onAddComment(m);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();Object(a.useEffect)((function(){c(!(!w||!C||0===i))}),[w,C,i]);var F=k?"".concat(Me.a["form-control"]," ").concat(Me.a.invalid):Me.a["form-control"],P=r?Me.a.btn:"".concat(Me.a.btn," ").concat(Me.a.disabled);return Object(y.jsx)(a.Fragment,{children:Object(y.jsxs)("form",{onSubmit:T,className:Me.a.form,children:[_&&Object(y.jsx)("h3",{className:Me.a["error-sending"],children:_}),Object(y.jsxs)("div",{className:Me.a.stars,children:[Object(y.jsx)("p",{children:"Star Rating"}),Object(y.jsx)(Le.a,{className:Me.a.star,emptySymbol:Object(y.jsx)(he.a,{icon:"star"}),fullSymbol:Object(y.jsx)(he.a,{icon:"star",className:Me.a["star-active"]}),initialRating:i,onClick:function(e){return l(e)}})]}),Object(y.jsx)("div",{className:Me.a.inputs,children:Object(y.jsxs)("div",{className:F,children:[Object(y.jsx)("label",{htmlFor:"comment",children:"Your Comment"}),Object(y.jsx)("textarea",{ref:u,name:"comment",rows:"5",onChange:function(){return S(u.current.value)},onBlur:I}),!w&&Object(y.jsx)("p",{className:Me.a.error,children:k})]})}),!_&&g&&Object(y.jsx)("button",{className:"".concat(Me.a.btn," ").concat(Me.a["btn-loading"]),children:"Processing..."}),!_&&!g&&Object(y.jsx)("button",{className:P,children:"Post Comment"})]})})},We=n(21),Xe=n.n(We),Ge=function(e){var t=Object(y.jsx)("h2",{children:"No Comments"});return e.comments.length>0&&(t=Object(y.jsx)("ul",{className:Xe.a.list,children:e.comments.map((function(e){return Object(y.jsxs)("li",{className:Xe.a["list-item"],children:[Object(y.jsx)("img",{src:e.photoUrl,className:Xe.a.avatar,alt:"User's avatar"}),Object(y.jsxs)("div",{children:[Object(y.jsx)(Le.a,{className:Xe.a.star,readonly:!0,initialRating:e.rating,emptySymbol:Object(y.jsx)(he.a,{icon:"star"}),fullSymbol:Object(y.jsx)(he.a,{icon:"star",className:Xe.a["star-active"]})}),Object(y.jsx)("h5",{className:Xe.a.comment,children:e.comment}),Object(y.jsx)("p",{className:Xe.a.username,children:e.username})]})]},e.id)}))})),e.error&&(t="Error..."),e.loading&&(t="Loading comments..."),Object(y.jsx)(a.Fragment,{children:t})},$e=function(e){var t=Object(a.useState)(!1),n=Object(O.a)(t,2),r=n[0],c=n[1],s=Object(o.c)((function(e){return e.auth.isLoggedIn})),i=e.productId,l=L(ne),u=l.sendRequest,m=l.data,d=l.isLoading,j=l.error;Object(a.useEffect)((function(){var e=!0;return u(i,e),function(){return e=!1}}),[u,i]);var b=Object(a.useCallback)((function(){u(i),c(!1)}),[u,i]);return Object(y.jsxs)("section",{children:[Object(y.jsx)("h2",{className:De.a.center,children:"Comments"}),!s&&Object(y.jsx)("p",{className:De.a.centered,children:"Sign in to add a comment."}),!r&&s&&Object(y.jsx)("button",{onClick:function(){c(!0)},className:De.a["btn-add"],children:"Add Comment"}),r&&Object(y.jsx)(Qe,{onAddComment:b}),Object(y.jsx)(Ge,{comments:m,loading:d,error:j})]})},Ke=(n(63),function(e){var t=Object(a.useRef)();return Object(y.jsxs)("form",{className:"form",onSubmit:function(n){n.preventDefault();var a=+t.current.value;e.onAdd(a)},children:[Object(y.jsx)("label",{className:"amount-label",htmlFor:"amount",children:"Amount"}),Object(y.jsx)("input",{ref:t,className:"amount-input",type:"number",name:"amount",min:"1",max:"5",step:"1",defaultValue:"1"}),Object(y.jsx)("div",{className:"item-buttons",children:Object(y.jsx)("button",{className:"add-button",type:"submit",children:"+ Add"})})]})}),et=function(e){var t=e.details,n=Object(x.i)(),r=Object(x.h)().productId,c=L(ne),s=c.sendRequest,i=c.data;Object(a.useEffect)((function(){var e=!0;return setTimeout((function(){s(r,e)}),10),function(){return e=!1}}),[s,r]);var l=Object(o.b)();return Object(y.jsx)(a.Fragment,{children:Object(y.jsxs)("div",{className:Ve.a.container,children:[Object(y.jsx)("h2",{className:Ve.a.name,children:t.name}),Object(y.jsx)("div",{className:Ve.a.image,children:Object(y.jsx)("img",{src:t.image,alt:"item"})}),Object(y.jsx)("p",{className:Ve.a.desc,children:t.description}),Object(y.jsx)("p",{className:Ve.a.price,children:"$".concat(t.price)}),Object(y.jsx)(Ke,{onAdd:function(e){l(h.addItemToCart({id:t.id,name:t.name,price:t.price,quantity:e}))},id:r}),Object(y.jsx)("p",{className:Ve.a["average-rating"],children:"Average Product Rating"}),Object(y.jsx)("div",{className:Ve.a.stars,children:Object(y.jsx)(Le.a,{className:Ve.a.star,readonly:!0,initialRating:function(e){var t=0,n=0;return e.forEach((function(e){t+=e.rating,n++})),(t/n).toFixed(1)}(i),emptySymbol:Object(y.jsx)(he.a,{icon:"star"}),fullSymbol:Object(y.jsx)(he.a,{icon:"star",className:Ve.a["star-active"]})})}),Object(y.jsx)(x.b,{path:n.path,exact:!0,children:Object(y.jsx)("div",{className:Ve.a.buttons,children:Object(y.jsx)(ce.b,{to:"".concat(n.url,"/comments"),className:Ve.a["btn-comments"],children:"Show Comments"})})}),Object(y.jsx)("div",{className:Ve.a.comments,children:Object(y.jsx)(x.b,{path:"".concat(n.path,"/comments"),children:Object(y.jsx)($e,{productId:r})})})]})})},tt=function(){var e=Object(x.h)().productId,t=L($),n=t.sendRequest,r=t.data,c=t.isLoading,s=t.error;Object(a.useEffect)((function(){var t=!0;return setTimeout((function(){n(e,t)}),1),function(){return t=!1}}),[n,e]);var o=Object(y.jsx)("p",{className:"db-message empty",children:"Found no cloth."});return r&&(o=Object(y.jsx)(et,{details:r})),s&&(o=Object(y.jsx)("p",{style:{fontSize:"3rem",textAlign:"center",marginTop:"10rem"},children:s})),c&&(o=Object(y.jsx)("p",{style:{fontSize:"3rem",textAlign:"center",marginTop:"10rem"},children:"Loading..."})),Object(y.jsx)(a.Fragment,{children:o})},nt=function(e,t){var n=Object(x.g)(),r=Object(o.b)(),c=Object(a.useState)(!1),s=Object(O.a)(c,2),i=s[0],l=s[1],m=Object(a.useState)(null),d=Object(O.a)(m,2),j=d[0],b=d[1];return{sendRequest:Object(a.useCallback)(function(){var a=Object(A.a)(E.a.mark((function a(c){var s,o,i=arguments;return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!(!(i.length>1&&void 0!==i[1])||i[1])){a.next=20;break}return l(!0),a.prev=3,a.next=6,e({email:c.email,password:c.password});case 6:if(s=a.sent,!t){a.next=12;break}return a.next=10,t({idToken:s.data.idToken,name:c.name,photoUrl:c.photoUrl});case 10:o=a.sent,console.log(o);case 12:r(u.login(s.data.idToken)),n.replace("/React_ClothingStore/home"),a.next=19;break;case 16:a.prev=16,a.t0=a.catch(3),b(a.t0.message||"Something went wrong!");case 19:l(!1);case 20:case"end":return a.stop()}}),a,null,[[3,16]])})));return function(e){return a.apply(this,arguments)}}(),[e,r,n,t]),isLoading:i,error:j}},at=n(12),rt=n.n(at),ct=function(){var e=Object(a.useRef)(),t=Object(a.useRef)(),n=Object(a.useRef)(),r=Object(a.useState)(!0),c=Object(O.a)(r,2),s=c[0],o=c[1],i=Object(a.useState)(!1),l=Object(O.a)(i,2),u=l[0],m=l[1],d=Object(a.useState)("https://avatars.dicebear.com/api/personas/happy.svg"),j=Object(O.a)(d,2),b=j[0],h=j[1],p=nt(B,z),f=p.sendRequest,x=p.error,_=p.isLoading,g=nt(J),v=g.sendRequest,N=g.error,C=g.isLoading,w=Ye(),k=w.inputValue,S=w.isTouched,I=w.isValid,T=w.error,F=w.changeValue,P=w.checkValidity,R=Ye((function(e){return/^\S+@\S+\.\S+$/.test(e)}),"Invalid email!"),q=R.inputValue,L=R.isTouched,U=R.isValid,V=R.error,D=R.changeValue,H=R.checkValidity,Y=Ye(),Z=Y.inputValue,M=Y.isTouched,Q=Y.isValid,W=Y.error,X=Y.changeValue,G=Y.checkValidity;Object(a.useEffect)((function(){var e=!0;return e&&m(!!(L&&U&&M&&Q)&&(!!s||!(s||!S||!I))),function(){return e=!1}}),[s,S,I,L,U,M,Q]);var $=function(){var e=Object(A.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!u){e.next=9;break}if(!s){e.next=7;break}return e.next=5,v({email:q,password:Z});case 5:e.next=9;break;case 7:return e.next=9,f({name:k,email:q,password:Z,photoUrl:b});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=u?"":rt.a.disabled;return Object(y.jsxs)("section",{className:rt.a.auth,children:[Object(y.jsx)("h2",{children:s?"Login":"Sign up"}),Object(y.jsxs)("form",{onSubmit:$,children:[!s&&Object(y.jsxs)("div",{className:rt.a.avatar,children:[Object(y.jsx)("img",{src:b,alt:"Avatar",className:rt.a["avatar-img"]}),Object(y.jsx)(he.a,{icon:"redo-alt",className:rt.a.icon,onClick:function(){h("https://avatars.dicebear.com/api/personas/".concat(Math.random().toString(36).substr(2,5),".svg"))}})]}),!s&&Object(y.jsxs)("div",{className:rt.a.control,children:[Object(y.jsx)("label",{htmlFor:"username",children:"Username"}),Object(y.jsx)("input",{type:"text",name:"username",ref:e,value:k,onChange:function(){return F(e.current.value)},onBlur:P}),!I&&Object(y.jsx)("p",{className:rt.a.error,children:T})]}),Object(y.jsxs)("div",{className:rt.a.control,children:[Object(y.jsx)("label",{htmlFor:"email",children:"Email"}),Object(y.jsx)("input",{type:"email",name:"email",ref:t,onChange:function(){return D(t.current.value)},onBlur:H}),!U&&Object(y.jsx)("p",{className:rt.a.error,children:V})]}),Object(y.jsxs)("div",{className:rt.a.control,children:[Object(y.jsx)("label",{htmlFor:"email",children:"Password"}),Object(y.jsx)("input",{type:"password",name:"password",ref:n,onChange:function(){return X(n.current.value)},onBlur:G}),!Q&&Object(y.jsx)("p",{className:rt.a.error,children:W})]}),Object(y.jsxs)("div",{className:rt.a.actions,children:[!C&&!_&&Object(y.jsx)("button",{type:"submit",className:K,children:s?"Login":"Sign up"}),(C||_)&&Object(y.jsx)("p",{children:"Loading..."}),N&&Object(y.jsx)("p",{className:rt.a.error,children:N}),x&&Object(y.jsx)("p",{className:rt.a.error,children:x}),Object(y.jsx)("button",{type:"button",className:rt.a.toggle,onClick:function(){o(!s)},children:s?"Create new account":"Login with existing account"})]})]})]})},st=function(){return Object(y.jsx)(ct,{})},ot=n(18),it=n.n(ot),lt=function(){var e=Object(a.useState)(!1),t=Object(O.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!1),s=Object(O.a)(c,2),o=s[0],i=s[1],l=Object(a.useRef)(),u=Ye(),m=u.inputValue,d=u.isTouched,j=u.isValid,b=u.error,h=u.changeValue,p=u.checkValidity,f=localStorage.getItem("token"),x=L(Z),_=x.sendRequest,g=x.data,v=L(Q),N=v.sendRequest,C=v.error;Object(a.useEffect)((function(){_({idToken:f})}),[_,f]);var w=function(){var e=Object(A.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),o){e.next=7;break}if(!d||!j){e.next=7;break}return e.next=5,N({idToken:f,password:m});case 5:i(!0),C||r(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsxs)("section",{className:it.a["profile-content"],children:[Object(y.jsx)("h2",{children:"Profile"}),g.data&&Object(y.jsxs)("div",{children:[Object(y.jsx)("img",{src:g.data.users[0].photoUrl,className:it.a["profile-avatar"],alt:"User's avatar"}),Object(y.jsx)("h4",{children:g.data.users[0].displayName}),!n&&!o&&Object(y.jsx)("button",{className:it.a["reset-btn"],onClick:function(){r(!0)},children:"Reset Password"}),!n&&o&&Object(y.jsx)("p",{className:it.a.correct,children:"Password updated!"}),n&&Object(y.jsxs)("form",{className:it.a["password-form"],onSubmit:w,children:[Object(y.jsx)("label",{htmlFor:"password",className:it.a.label,children:"New Password"}),Object(y.jsx)("input",{className:it.a.password,type:"password",name:"password",ref:l,onChange:function(){return h(l.current.value)},onBlur:p}),!j&&Object(y.jsx)("p",{className:it.a.error,children:b}),C&&Object(y.jsx)("p",{className:it.a.error,children:C}),Object(y.jsx)("button",{type:"submit",className:it.a["submit-password"],children:"Submit"})]})]})]})},ut=function(){return Object(y.jsx)(lt,{})},mt=function(){var e=Object(a.useState)(!1),t=Object(O.a)(e,2),n=t[0],r=t[1];return Object(y.jsxs)(a.Fragment,{children:[n&&Object(y.jsx)(R,{onClose:function(){r(!1)}}),Object(y.jsx)(Ae,{onOpen:function(){r(!0)}}),Object(y.jsx)("main",{children:Object(y.jsxs)(x.d,{children:[Object(y.jsx)(x.b,{path:"/React_ClothingStore/",exact:!0,children:Object(y.jsx)(x.a,{to:"/React_ClothingStore/home"})}),Object(y.jsx)(x.b,{path:"/React_ClothingStore/home",exact:!0,children:Object(y.jsx)(ye,{})}),Object(y.jsx)(x.b,{path:"/React_ClothingStore/products/:productId",children:Object(y.jsx)(tt,{})}),Object(y.jsx)(x.b,{path:"/React_ClothingStore/auth",exact:!0,children:Object(y.jsx)(st,{})}),Object(y.jsx)(x.b,{path:"/React_ClothingStore/profile",children:Object(y.jsx)(ut,{})}),Object(y.jsx)(x.b,{path:"*",children:Object(y.jsx)(Ne,{})})]})})]})};s.a.render(Object(y.jsx)(ce.a,{children:Object(y.jsx)(o.a,{store:f,children:Object(y.jsx)(mt,{})})}),document.getElementById("root"))}],[[64,1,2]]]);
//# sourceMappingURL=main.679e63cf.chunk.js.map