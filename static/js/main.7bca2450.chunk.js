(this["webpackJsonpclothing-store"]=this["webpackJsonpclothing-store"]||[]).push([[0],[,,,,,,,,,,,function(e,t,n){e.exports={form:"NewCommentForm_form__2PFUj",inputs:"NewCommentForm_inputs__3q6_Z",stars:"NewCommentForm_stars__2yuhF",star:"NewCommentForm_star__3S_Xs","star-active":"NewCommentForm_star-active__37EDn","form-control":"NewCommentForm_form-control__24bYZ",invalid:"NewCommentForm_invalid__7x2Gn",error:"NewCommentForm_error__3yjBL","error-sending":"NewCommentForm_error-sending__u7MTW",btn:"NewCommentForm_btn__1uei7",disabled:"NewCommentForm_disabled__swBji","btn-loading":"NewCommentForm_btn-loading__3YICj"}},function(e,t,n){e.exports={auth:"AuthForm_auth__1c8Zk",avatar:"AuthForm_avatar__3zqPr","avatar-img":"AuthForm_avatar-img__mu_n0",icon:"AuthForm_icon__xe0Ea",control:"AuthForm_control___rDkn",error:"AuthForm_error__2ilEw",actions:"AuthForm_actions__1CGaT",toggle:"AuthForm_toggle__3Co4g",disabled:"AuthForm_disabled__3HcU8"}},,,,,function(e,t,n){e.exports={container:"ClothDetails_container__2yCDu",name:"ClothDetails_name__1bPF_",image:"ClothDetails_image__2ZoNp",desc:"ClothDetails_desc__3zsYx",price:"ClothDetails_price__2Uh68","average-rating":"ClothDetails_average-rating__xX8gv",stars:"ClothDetails_stars__DpPop",star:"ClothDetails_star__2hCkz","star-active":"ClothDetails_star-active__1Myuf",buttons:"ClothDetails_buttons__1udZI","btn-comments":"ClothDetails_btn-comments__3Y_6B",comments:"ClothDetails_comments__1s1Y5"}},function(e,t,n){e.exports={"profile-content":"Profile_profile-content__2rClq","profile-avatar":"Profile_profile-avatar__1SLcT","reset-btn":"Profile_reset-btn__1vJSf","password-form":"Profile_password-form__2HraI",label:"Profile_label__1NbxR",password:"Profile_password__glU_Y","submit-password":"Profile_submit-password__3OT5k",correct:"Profile_correct__25v91",error:"Profile_error__mopRc"}},,function(e,t,n){e.exports={information:"InformationBanner_information__1nm04",container:"InformationBanner_container__2Az5N",column:"InformationBanner_column__2eOxm",icon:"InformationBanner_icon__2Vus8"}},function(e,t,n){e.exports={list:"CommentsList_list__2X874","list-item":"CommentsList_list-item__2b2nv",avatar:"CommentsList_avatar__2v4Mc",star:"CommentsList_star__23r63","star-active":"CommentsList_star-active__1vydW",comment:"CommentsList_comment__31RR7",username:"CommentsList_username__1FXV_","comment-span":"CommentsList_comment-span__1av82"}},,,,,function(e,t,n){e.exports={items:"Cart_items__3Upl3",total:"Cart_total__1D_WJ","modal-actions":"Cart_modal-actions__2kmur","button--close":"Cart_button--close__1v57z"}},function(e,t,n){e.exports={"cart-item":"CartItem_cart-item__bji4w",summary:"CartItem_summary__nxOf5",price:"CartItem_price__1-E3v",amount:"CartItem_amount__3Uygv",actions:"CartItem_actions__1gyU4"}},function(e,t,n){e.exports={item:"ClothItem_item__23-f6","image-section":"ClothItem_image-section__2lt2b",image:"ClothItem_image__3h8le",name:"ClothItem_name__RcHaC",price:"ClothItem_price__2mnyB"}},,function(e,t,n){e.exports={header:"Header_header__bxL65",span:"Header_span__2-JMt",logo:"Header_logo__3OJpx","header-buttons":"Header_header-buttons__1p8Ms"}},,,function(e,t,n){e.exports={collection:"NewCollectionBanner_collection__31npO",image:"NewCollectionBanner_image__3BF7M",shadow:"NewCollectionBanner_shadow__1JA_I"}},function(e,t,n){e.exports={"cart-btn":"HeaderButton_cart-btn__cMwII",icon:"HeaderButton_icon__3H9_K",quantity:"HeaderButton_quantity__3bEhS"}},function(e,t,n){e.exports={"btn-add":"Comments_btn-add__3KE1C",center:"Comments_center__2cx_U",centered:"Comments_centered__1gVNA"}},,,,,function(e,t,n){e.exports={"auth-btn":"LoginButton_auth-btn__35Q3v"}},,function(e,t,n){e.exports={"clothes-list":"AvalibleClothes_clothes-list__4Hzh3"}},function(e,t,n){e.exports={newsletter:"NewsletterBanner_newsletter__2Z-3t"}},function(e,t,n){e.exports={"profile-btn":"ProfileButton_profile-btn__1FX1W"}},,,,,,,,function(e,t,n){},,,,function(e,t,n){},function(e,t,n){},,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(22),s=n.n(c),o=n(7),i=n(25),l=Object(i.b)({name:"auth",initialState:{token:localStorage.getItem("token")?localStorage.getItem("token"):"",isLoggedIn:!!localStorage.getItem("token")},reducers:{login:function(e,t){e.token=t.payload,e.isLoggedIn=""!==t.payload,localStorage.setItem("token",t.payload)},logout:function(e){e.token="",e.isLoggedIn=!1,localStorage.removeItem("token")}}}),u=l.actions,m=l,d=localStorage.getItem("myCart"),j=JSON.parse(d),b=Object(i.b)({name:"cart",initialState:{items:j||[],totalQuantity:j?function(){var e=0;return j.forEach((function(t){e+=t.quantity})),e}():0,totalCartPrice:j?function(){var e=0;return j.forEach((function(t){e+=t.quantity*t.price})),e}():0},reducers:{addItemToCart:function(e,t){var n=t.payload,a=e.items.find((function(e){return e.id===n.id}));e.totalQuantity+=n.quantity,e.totalCartPrice+=n.quantity*n.price,a?(a.quantity+=n.quantity,a.totalPrice+=n.quantity*n.price):e.items.push({id:n.id,name:n.name,price:n.price,quantity:n.quantity,totalPrice:n.quantity*n.price}),localStorage.setItem("myCart",JSON.stringify(e.items))},removeItemFromCart:function(e,t){var n=t.payload,a=e.items.find((function(e){return e.id===n}));e.totalQuantity--,e.totalCartPrice-=a.price,1===a.quantity?e.items=e.items.filter((function(e){return e.id!==n})):(a.quantity--,a.totalPrice-=a.price),localStorage.setItem("myCart",JSON.stringify(e.items))},resetCart:function(e){localStorage.removeItem("myCart"),e.items=[],e.totalQuantity=0,e.totalCartPrice=0}}}),h=b.actions,p=b,O=Object(i.a)({reducer:{cart:p.reducer,auth:m.reducer}}),f=(n(52),n(3)),x=n(6),_=n(19),g=n(38),v=n(23);_.b.add(v.e),_.b.add(v.b),_.b.add(v.f,g.b,g.a),_.b.add(v.c,v.d,v.a);n(56),n(57);var N=n(0),y=function(e){return Object(N.jsx)("div",{className:"backdrop",onClick:e.onClose})},C=function(e){return Object(N.jsx)("div",{className:"modal",children:Object(N.jsx)("div",{className:"content",children:e.children})})},w=document.getElementById("overlays"),k=function(e){return Object(N.jsxs)(r.a.Fragment,{children:[s.a.createPortal(Object(N.jsx)(y,{onClose:e.onClose}),w),s.a.createPortal(Object(N.jsx)(C,{children:e.children}),w)]})},S=n(26),I=n.n(S),F=n(27),T=n.n(F),P=function(e){var t=Object(o.b)();return Object(N.jsxs)("li",{className:T.a["cart-item"],children:[Object(N.jsxs)("div",{children:[Object(N.jsx)("h3",{children:e.name}),Object(N.jsxs)("div",{className:T.a.summary,children:[Object(N.jsxs)("span",{className:T.a.price,children:["$",e.price.toFixed(2)]}),Object(N.jsxs)("span",{className:T.a.amount,children:["x",e.quantity]})]})]}),Object(N.jsxs)("div",{className:T.a.actions,children:[Object(N.jsx)("button",{onClick:function(){t(h.removeItemFromCart(e.id))},children:"-"}),Object(N.jsx)("button",{onClick:function(){t(h.addItemToCart({id:e.id,name:e.name,price:e.price,quantity:1}))},children:"+"})]})]})},E=function(e){var t=Object(o.b)(),n=Object(o.c)((function(e){return e.cart.items})),a=Object(o.c)((function(e){return e.cart.totalCartPrice})),c=Object(N.jsx)("ul",{className:I.a.items,children:n.map((function(e){return Object(N.jsx)(P,{id:e.id,name:e.name,price:e.price,quantity:e.quantity},e.id)}))}),s=Object(N.jsxs)("div",{className:I.a["modal-actions"],children:[Object(N.jsx)("button",{className:I.a["button--close"],onClick:e.onClose,children:"Close"}),Object(N.jsx)("button",{className:I.a.button,onClick:function(){t(h.resetCart())},children:"Order"})]});return Object(N.jsx)(k,{onClose:e.onClose,children:Object(N.jsxs)(r.a.Fragment,{children:[c,Object(N.jsxs)("div",{className:I.a.total,children:[Object(N.jsx)("h3",{children:"Total Amount"}),Object(N.jsxs)("p",{children:["$",a.toFixed(2)]})]}),s]})})},A=n(2),q=n.n(A),L=n(8),R=n(10),U=n(28),V=n.n(U),B=function(e){return Object(N.jsxs)(R.b,{to:"/products/".concat(e.id),className:V.a.item,children:[Object(N.jsx)("div",{className:V.a["image-section"],children:Object(N.jsx)("img",{src:e.image,alt:"Item",className:V.a.image})}),Object(N.jsx)("h3",{className:V.a.name,children:e.name}),Object(N.jsxs)("p",{className:V.a.price,children:["$",e.price]})]})},D=n(42),J=n.n(D),H=function(e){return Object(N.jsx)("section",{className:J.a["clothes-list"],children:e.clothes.map((function(e){return Object(N.jsx)(B,{id:e.id,name:e.title,desc:e.description,price:e.price,image:e.image},e.id)}))})},z=(n(61),function(){return Object(N.jsxs)("section",{className:"summary-section",children:[Object(N.jsx)("h2",{children:"Elegant Clothes, Delivered To You"}),Object(N.jsx)("p",{children:"Choose your favorite cloth from our broad selection of available clothes and look good."}),Object(N.jsx)("p",{children:"All our clothes are made made of high-quality materials. They all are sewn by our experienced seamstresses!"})]})}),Y=(n(62),n.p+"static/media/ties.e65ca23f.jpg"),Z=n(20),M=n.n(Z),Q=n(9),W=function(e){return Object(N.jsx)("section",{className:M.a.information,children:Object(N.jsxs)("div",{className:M.a.container,children:[Object(N.jsxs)("div",{className:M.a.column,children:[Object(N.jsx)(Q.a,{icon:"shield-alt",className:M.a.icon}),Object(N.jsx)("h5",{children:"SAFE SHOPPING"}),Object(N.jsx)("p",{children:"When you buy in our store, you are guaranteed safe purchases and payments"})]}),Object(N.jsxs)("div",{className:M.a.column,children:[Object(N.jsx)(Q.a,{icon:"shipping-fast",className:M.a.icon}),Object(N.jsx)("h5",{children:"FAST SHIPPING"}),Object(N.jsx)("p",{children:"We guarantee quick shipping"})]}),Object(N.jsxs)("div",{className:M.a.column,children:[Object(N.jsx)(Q.a,{icon:"money-bill",className:M.a.icon}),Object(N.jsx)("h5",{children:"BEST PRICES"}),Object(N.jsx)("p",{children:"Great poducts at the best prices"})]})]})})},X=n(33),G=n.n(X),$=function(){return Object(N.jsx)("section",{className:G.a.collection,children:Object(N.jsx)("div",{className:G.a.image,children:Object(N.jsxs)("div",{className:G.a.shadow,children:[Object(N.jsx)("h5",{children:"New Collection"}),Object(N.jsx)("button",{children:"SEE NOW"})]})})})},K=n(43),ee=n.n(K),te=function(){return Object(N.jsxs)("section",{className:ee.a.newsletter,children:[Object(N.jsx)("h4",{children:"-5%"}),Object(N.jsx)("h5",{children:"Join our community to receive a discount code. Stay up to date!"}),Object(N.jsx)("button",{children:"JOIN"})]})},ne=function(){var e=Object(a.useState)([]),t=Object(f.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(!1),o=Object(f.a)(s,2),i=o[0],l=o[1],u=Object(a.useState)(null),m=Object(f.a)(u,2),d=m[0],j=m[1],b=Object(a.useCallback)(Object(L.a)(q.a.mark((function e(){var t,n,a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),j(null),e.prev=2,e.next=5,fetch("https://fakestoreapi.com/products/category/men's%20clothing");case 5:if((t=e.sent).ok){e.next=8;break}throw new Error("Something went wrong");case 8:return e.next=10,t.json();case 10:n=e.sent,a=n.map((function(e){return{id:e.id,title:e.title,description:e.description,price:e.price,image:e.image}})),c(a),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),j(e.t0.message);case 18:l(!1);case 19:case"end":return e.stop()}}),e,null,[[2,15]])}))),[]);Object(a.useEffect)((function(){b()}),[b]);var h=Object(N.jsx)("p",{className:"db-message empty",children:"Found no clothes."});return n.length>0&&(h=Object(N.jsx)(H,{clothes:n})),d&&(h=Object(N.jsx)("p",{className:"db-message error",children:d})),i&&(h=Object(N.jsx)("p",{className:"db-message",children:"Loading..."})),Object(N.jsxs)(r.a.Fragment,{children:[Object(N.jsx)("div",{className:"ties-image",children:Object(N.jsx)("img",{src:Y,alt:"Ties"})}),Object(N.jsx)(z,{}),Object(N.jsx)(W,{}),Object(N.jsx)($,{}),h,Object(N.jsx)(te,{})]})},ae=function(){return Object(N.jsx)("h1",{style:{textAlign:"center",marginTop:"10rem"},children:"Page Not Found!"})},re=n(30),ce=n.n(re),se=n(34),oe=n.n(se),ie=function(e){return Object(N.jsxs)("div",{className:oe.a["cart-btn"],onClick:e.onOpen,children:[Object(N.jsx)(Q.a,{icon:"shopping-cart",className:oe.a.icon}),Object(N.jsx)("p",{className:oe.a.quantity,children:e.itemsQuantity})]})},le=n(40),ue=n.n(le),me=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.auth.isLoggedIn})),n=Object(N.jsx)(R.b,{to:"/auth",className:ue.a["auth-btn"],children:"Login"});return t&&(n=Object(N.jsx)(R.b,{to:"/products",className:ue.a["auth-btn"],onClick:function(){e(u.logout())},children:"Logout"})),Object(N.jsx)("div",{children:n})},de=n(44),je=n.n(de),be=function(){var e=Object(o.c)((function(e){return e.auth.isLoggedIn}));return Object(N.jsx)("div",{children:e&&Object(N.jsx)(R.b,{to:"/profile",className:je.a["profile-btn"],children:"Profile"})})},he=function(e){var t=Object(o.c)((function(e){return e.cart.totalQuantity}));return Object(N.jsx)(r.a.Fragment,{children:Object(N.jsxs)("header",{className:ce.a.header,children:[Object(N.jsxs)("div",{className:ce.a.span,children:[Object(N.jsx)(R.b,{to:"/products",className:ce.a.logo,children:"Clothing store"}),Object(N.jsx)(ie,{onOpen:e.onOpen,itemsQuantity:t})]}),Object(N.jsxs)("div",{className:ce.a["header-buttons"],children:[Object(N.jsx)(be,{}),Object(N.jsx)(me,{})]})]})})},pe=n(24),Oe=function(e){var t=Object(a.useState)(!1),n=Object(f.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(null),o=Object(f.a)(s,2),i=o[0],l=o[1],u=Object(a.useState)([]),m=Object(f.a)(u,2),d=m[0],j=m[1];return{sendRequest:Object(a.useCallback)(function(){var t=Object(L.a)(q.a.mark((function t(n){var a,r=arguments;return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(!(r.length>1&&void 0!==r[1])||r[1])){t.next=15;break}return c(!0),t.prev=3,t.next=6,e(n);case 6:a=t.sent,j(a),c(!1),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(3),c(!1),l(t.t0.message||"Something went wrong!");case 15:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e){return t.apply(this,arguments)}}(),[e]),data:d,isLoading:r,error:i}},fe="https://react-clothing-store-b7a1b-default-rtdb.europe-west1.firebasedatabase.app/",xe="AIzaSyAXZm_0ROKGRMpfXcxCNUv84NUZY4DcEsY";function _e(e){return ge.apply(this,arguments)}function ge(){return(ge=Object(L.a)(q.a.mark((function e(t){var n,a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=".concat(xe),{method:"POST",body:JSON.stringify({email:t.email,password:t.password,returnSecureToken:!0}),headers:{"Content-Type":"application/json"}});case 2:return n=e.sent,e.next=5,n.json();case 5:if(a=e.sent,n.ok){e.next=8;break}throw new Error(a.error.message||"Authentication failed.");case 8:return e.abrupt("return",{data:a});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ve(e){return Ne.apply(this,arguments)}function Ne(){return(Ne=Object(L.a)(q.a.mark((function e(t){var n,a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=".concat(xe),{method:"POST",body:JSON.stringify({email:t.email,password:t.password,returnSecureToken:!0}),headers:{"Content-Type":"application/json"}});case 2:return n=e.sent,e.next=5,n.json();case 5:if(a=e.sent,n.ok){e.next=8;break}throw new Error(a.error.message||"Authentication failed.");case 8:return e.abrupt("return",{data:a});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ye(e){return Ce.apply(this,arguments)}function Ce(){return(Ce=Object(L.a)(q.a.mark((function e(t){var n,a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://identitytoolkit.googleapis.com/v1/accounts:update?key=".concat(xe),{method:"POST",body:JSON.stringify({idToken:t.idToken,displayName:t.name,photoUrl:t.photoUrl,deleteAttribute:[],returnSecureToken:!0}),headers:{"Content-Type":"application/json"}});case 2:return n=e.sent,e.next=5,n.json();case 5:if(a=e.sent,n.ok){e.next=8;break}throw new Error(a.error.message||"Updating user failed.");case 8:return e.abrupt("return",{data:a});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function we(e){return ke.apply(this,arguments)}function ke(){return(ke=Object(L.a)(q.a.mark((function e(t){var n,a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://identitytoolkit.googleapis.com/v1/accounts:lookup?key=".concat(xe),{method:"POST",body:JSON.stringify({idToken:t.idToken}),headers:{"Content-Type":"application/json"}});case 2:return n=e.sent,e.next=5,n.json();case 5:if(a=e.sent,n.ok){e.next=8;break}throw new Error(a.error.message||"Updating user failed.");case 8:return e.abrupt("return",{data:a});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Se(e){return Ie.apply(this,arguments)}function Ie(){return(Ie=Object(L.a)(q.a.mark((function e(t){var n,a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://identitytoolkit.googleapis.com/v1/accounts:update?key=".concat(xe),{method:"POST",body:JSON.stringify({idToken:t.idToken,password:t.password,returnSecureToken:!1}),headers:{"Content-Type":"application/json"}});case 2:return n=e.sent,e.next=5,n.json();case 5:if(a=e.sent,n.ok){e.next=8;break}throw new Error(a.error.message||"Updating password failed.");case 8:return e.abrupt("return",{data:a});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fe(e){return Te.apply(this,arguments)}function Te(){return(Te=Object(L.a)(q.a.mark((function e(t){var n,a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(fe,"/comments/").concat(t.productId,".json"),{method:"POST",body:JSON.stringify(t.commentData),headers:{"Content-Type":"application/json"}});case 2:return n=e.sent,e.next=5,n.json();case 5:if(a=e.sent,n.ok){e.next=8;break}throw new Error(a.error.message||"Could not add comment.");case 8:return e.abrupt("return",{commentId:a.name});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pe(e){return Ee.apply(this,arguments)}function Ee(){return(Ee=Object(L.a)(q.a.mark((function e(t){var n,a,r,c,s;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(fe,"/comments/").concat(t,".json"));case 2:return n=e.sent,e.next=5,n.json();case 5:if(a=e.sent,n.ok){e.next=8;break}throw new Error(a.error.message||"Could not get comments.");case 8:for(c in r=[],a)s={id:c,comment:a[c].comment,rating:a[c].rating,username:a[c].username,photoUrl:a[c].photoUrl},r.push(s);return e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ae=n(17),qe=n.n(Ae),Le=n(35),Re=n.n(Le),Ue=/^(?!\s)[A-Za-z_][A-Za-z0-9_():'"#^.?,!\s]+$/,Ve=function(e){return Ue.test(e)},Be=function(e){return e.trim().length>2},De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Use only valid symbols!",n=Object(a.useState)(""),r=Object(f.a)(n,2),c=r[0],s=r[1],o=Object(a.useState)(!1),i=Object(f.a)(o,2),l=i[0],u=i[1],m=Object(a.useState)(!0),d=Object(f.a)(m,2),j=d[0],b=d[1],h=Object(a.useState)(null),p=Object(f.a)(h,2),O=p[0],x=p[1],_=function(e){s(e)},g=function(){var n=!(!Be(c)||!e(c));u(!0),b(n),x((function(){return n?null:Be(c)?e(c)?void 0:t:"Value is too short!"}))};return{inputValue:c,isTouched:l,isValid:j,error:O,changeValue:_,checkValidity:g}},Je=n(11),He=n.n(Je),ze=function(e){var t=Object(a.useState)(!1),n=Object(f.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(0),o=Object(f.a)(s,2),i=o[0],l=o[1],u=Object(a.useRef)(),m=Object(x.h)().productId,d=localStorage.getItem("token"),j=Oe(we),b=j.sendRequest,h=j.data;Object(a.useEffect)((function(){b({idToken:d})}),[b,d]);var p=Oe(Fe),O=p.sendRequest,_=p.error,g=p.isLoading,v=De(),y=v.inputValue,C=v.isTouched,w=v.isValid,k=v.error,S=v.changeValue,I=v.checkValidity,F=function(){var t=Object(L.a)(q.a.mark((function t(n){return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),r){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,O({commentData:{username:h.data.users[0].displayName,photoUrl:h.data.users[0].photoUrl,comment:y,rating:i},productId:m});case 5:e.onAddComment(m);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();Object(a.useEffect)((function(){c(!(!w||!C||0===i))}),[w,C,i]);var T=k?"".concat(He.a["form-control"]," ").concat(He.a.invalid):He.a["form-control"],P=r?He.a.btn:"".concat(He.a.btn," ").concat(He.a.disabled);return Object(N.jsx)(a.Fragment,{children:Object(N.jsxs)("form",{onSubmit:F,className:He.a.form,children:[_&&Object(N.jsx)("h3",{className:He.a["error-sending"],children:_}),Object(N.jsxs)("div",{className:He.a.stars,children:[Object(N.jsx)("p",{children:"Star Rating"}),Object(N.jsx)(pe.a,{className:He.a.star,emptySymbol:Object(N.jsx)(Q.a,{icon:"star"}),fullSymbol:Object(N.jsx)(Q.a,{icon:"star",className:He.a["star-active"]}),initialRating:i,onClick:function(e){return l(e)}})]}),Object(N.jsx)("div",{className:He.a.inputs,children:Object(N.jsxs)("div",{className:T,children:[Object(N.jsx)("label",{htmlFor:"comment",children:"Your Comment"}),Object(N.jsx)("textarea",{ref:u,name:"comment",rows:"5",onChange:function(){return S(u.current.value)},onBlur:I}),!w&&Object(N.jsx)("p",{className:He.a.error,children:k})]})}),!_&&g&&Object(N.jsx)("button",{className:"".concat(He.a.btn," ").concat(He.a["btn-loading"]),children:"Processing..."}),!_&&!g&&Object(N.jsx)("button",{className:P,children:"Post Comment"})]})})},Ye=n(21),Ze=n.n(Ye),Me=function(e){var t=Object(N.jsx)("h2",{children:"No Comments"});return e.comments.length>0&&(t=Object(N.jsx)("ul",{className:Ze.a.list,children:e.comments.map((function(e){return Object(N.jsxs)("li",{className:Ze.a["list-item"],children:[Object(N.jsx)("img",{src:e.photoUrl,className:Ze.a.avatar,alt:"User's avatar"}),Object(N.jsxs)("div",{children:[Object(N.jsx)(pe.a,{className:Ze.a.star,readonly:!0,initialRating:e.rating,emptySymbol:Object(N.jsx)(Q.a,{icon:"star"}),fullSymbol:Object(N.jsx)(Q.a,{icon:"star",className:Ze.a["star-active"]})}),Object(N.jsx)("h5",{className:Ze.a.comment,children:e.comment}),Object(N.jsx)("p",{className:Ze.a.username,children:e.username})]})]},e.id)}))})),e.error&&(t="Error..."),e.loading&&(t="Loading comments..."),Object(N.jsx)(a.Fragment,{children:t})},Qe=function(e){var t=Object(a.useState)(!1),n=Object(f.a)(t,2),r=n[0],c=n[1],s=Object(o.c)((function(e){return e.auth.isLoggedIn})),i=e.productId,l=Oe(Pe),u=l.sendRequest,m=l.data,d=l.isLoading,j=l.error;Object(a.useEffect)((function(){var e=!0;return setTimeout((function(){u(i,e)}),1),function(){return e=!1}}),[u,i]);var b=Object(a.useCallback)((function(){u(i),c(!1)}),[u,i]);return Object(N.jsxs)("section",{children:[Object(N.jsx)("h2",{className:Re.a.center,children:"Comments"}),!s&&Object(N.jsx)("p",{className:Re.a.centered,children:"Sign in to add a comment."}),!r&&s&&Object(N.jsx)("button",{onClick:function(){c(!0)},className:Re.a["btn-add"],children:"Add Comment"}),r&&Object(N.jsx)(ze,{onAddComment:b}),Object(N.jsx)(Me,{comments:m,loading:d,error:j})]})},We=(n(63),function(e){var t=Object(a.useRef)();return Object(N.jsxs)("form",{className:"form",onSubmit:function(n){n.preventDefault();var a=+t.current.value;e.onAdd(a)},children:[Object(N.jsx)("label",{className:"amount-label",htmlFor:"amount",children:"Amount"}),Object(N.jsx)("input",{ref:t,className:"amount-input",type:"number",name:"amount",min:"1",max:"5",step:"1",defaultValue:"1"}),Object(N.jsx)("div",{className:"item-buttons",children:Object(N.jsx)("button",{className:"add-button",type:"submit",children:"+ Add"})})]})}),Xe=function(e){var t=e.details,n=Object(x.i)(),r=Object(x.h)().productId,c=Oe(Pe),s=c.sendRequest,i=c.data;Object(a.useEffect)((function(){var e=!0;return setTimeout((function(){s(r,e)}),10),function(){return e=!1}}),[s,r]);var l=Object(o.b)();return Object(N.jsx)(a.Fragment,{children:Object(N.jsxs)("div",{className:qe.a.container,children:[Object(N.jsx)("h2",{className:qe.a.name,children:t.name}),Object(N.jsx)("div",{className:qe.a.image,children:Object(N.jsx)("img",{src:t.image,alt:"item"})}),Object(N.jsx)("p",{className:qe.a.desc,children:t.description}),Object(N.jsx)("p",{className:qe.a.price,children:"$".concat(t.price)}),Object(N.jsx)(We,{onAdd:function(e){l(h.addItemToCart({id:t.id,name:t.name,price:t.price,quantity:e}))},id:r}),Object(N.jsx)("p",{className:qe.a["average-rating"],children:"Average Product Rating"}),Object(N.jsx)("div",{className:qe.a.stars,children:Object(N.jsx)(pe.a,{className:qe.a.star,readonly:!0,initialRating:function(e){var t=0,n=0;return e.forEach((function(e){t+=e.rating,n++})),(t/n).toFixed(1)}(i),emptySymbol:Object(N.jsx)(Q.a,{icon:"star"}),fullSymbol:Object(N.jsx)(Q.a,{icon:"star",className:qe.a["star-active"]})})}),Object(N.jsx)(x.b,{path:n.path,exact:!0,children:Object(N.jsx)("div",{className:qe.a.buttons,children:Object(N.jsx)(R.b,{to:"".concat(n.url,"/comments"),className:qe.a["btn-comments"],children:"Show Comments"})})}),Object(N.jsx)("div",{className:qe.a.comments,children:Object(N.jsx)(x.b,{path:"".concat(n.path,"/comments"),children:Object(N.jsx)(Qe,{productId:r})})})]})})},Ge=function(){var e=Object(a.useState)([]),t=Object(f.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!1),s=Object(f.a)(c,2),o=s[0],i=s[1],l=Object(a.useState)(null),u=Object(f.a)(l,2),m=u[0],d=u[1],j=Object(x.h)().productId,b=Object(a.useCallback)(Object(L.a)(q.a.mark((function e(){var t,n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),d(null),e.prev=2,e.next=5,fetch("https://fakestoreapi.com/products/".concat(j));case 5:if((t=e.sent).ok){e.next=8;break}throw new Error("Something went wrong");case 8:return e.next=10,t.json();case 10:n=e.sent,r(n),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),d(e.t0.message);case 17:i(!1);case 18:case"end":return e.stop()}}),e,null,[[2,14]])}))),[j]);Object(a.useEffect)((function(){b()}),[b]);var h=Object(N.jsx)("p",{className:"db-message empty",children:"Found no cloth."});if(n){var p={id:n.id,name:n.title,description:n.description,price:n.price,image:n.image};h=Object(N.jsx)(Xe,{details:p})}return m&&(h=Object(N.jsx)("p",{style:{fontSize:"3rem",textAlign:"center",marginTop:"10rem"},children:m})),o&&(h=Object(N.jsx)("p",{style:{fontSize:"3rem",textAlign:"center",marginTop:"10rem"},children:"Loading..."})),Object(N.jsx)(a.Fragment,{children:h})},$e=function(e,t){var n=Object(x.g)(),r=Object(o.b)(),c=Object(a.useState)(!1),s=Object(f.a)(c,2),i=s[0],l=s[1],m=Object(a.useState)(null),d=Object(f.a)(m,2),j=d[0],b=d[1];return{sendRequest:Object(a.useCallback)(function(){var a=Object(L.a)(q.a.mark((function a(c){var s,o,i=arguments;return q.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!(!(i.length>1&&void 0!==i[1])||i[1])){a.next=20;break}return l(!0),a.prev=3,a.next=6,e({email:c.email,password:c.password});case 6:if(s=a.sent,!t){a.next=12;break}return a.next=10,t({idToken:s.data.idToken,name:c.name,photoUrl:c.photoUrl});case 10:o=a.sent,console.log(o);case 12:r(u.login(s.data.idToken)),n.replace("/products"),a.next=19;break;case 16:a.prev=16,a.t0=a.catch(3),b(a.t0.message||"Something went wrong!");case 19:l(!1);case 20:case"end":return a.stop()}}),a,null,[[3,16]])})));return function(e){return a.apply(this,arguments)}}(),[e,r,n,t]),isLoading:i,error:j}},Ke=n(12),et=n.n(Ke),tt=function(){var e=Object(a.useRef)(),t=Object(a.useRef)(),n=Object(a.useRef)(),r=Object(a.useState)(!0),c=Object(f.a)(r,2),s=c[0],o=c[1],i=Object(a.useState)(!1),l=Object(f.a)(i,2),u=l[0],m=l[1],d=Object(a.useState)("https://avatars.dicebear.com/api/personas/happy.svg"),j=Object(f.a)(d,2),b=j[0],h=j[1],p=$e(_e,ye),O=p.sendRequest,x=p.error,_=p.isLoading,g=$e(ve),v=g.sendRequest,y=g.error,C=g.isLoading,w=De(),k=w.inputValue,S=w.isTouched,I=w.isValid,F=w.error,T=w.changeValue,P=w.checkValidity,E=De((function(e){return/^\S+@\S+\.\S+$/.test(e)}),"Invalid email!"),A=E.inputValue,R=E.isTouched,U=E.isValid,V=E.error,B=E.changeValue,D=E.checkValidity,J=De(),H=J.inputValue,z=J.isTouched,Y=J.isValid,Z=J.error,M=J.changeValue,W=J.checkValidity;Object(a.useEffect)((function(){var e=!0;return e&&m(!!(R&&U&&z&&Y)&&(!!s||!(s||!S||!I))),function(){return e=!1}}),[s,S,I,R,U,z,Y]);var X=function(){var e=Object(L.a)(q.a.mark((function e(t){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!u){e.next=9;break}if(!s){e.next=7;break}return e.next=5,v({email:A,password:H});case 5:e.next=9;break;case 7:return e.next=9,O({name:k,email:A,password:H,photoUrl:b});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=u?"":et.a.disabled;return Object(N.jsxs)("section",{className:et.a.auth,children:[Object(N.jsx)("h2",{children:s?"Login":"Sign up"}),Object(N.jsxs)("form",{onSubmit:X,children:[!s&&Object(N.jsxs)("div",{className:et.a.avatar,children:[Object(N.jsx)("img",{src:b,alt:"Avatar",className:et.a["avatar-img"]}),Object(N.jsx)(Q.a,{icon:"redo-alt",className:et.a.icon,onClick:function(){h("https://avatars.dicebear.com/api/personas/".concat(Math.random().toString(36).substr(2,5),".svg"))}})]}),!s&&Object(N.jsxs)("div",{className:et.a.control,children:[Object(N.jsx)("label",{htmlFor:"username",children:"Username"}),Object(N.jsx)("input",{type:"text",name:"username",ref:e,value:k,onChange:function(){return T(e.current.value)},onBlur:P}),!I&&Object(N.jsx)("p",{className:et.a.error,children:F})]}),Object(N.jsxs)("div",{className:et.a.control,children:[Object(N.jsx)("label",{htmlFor:"email",children:"Email"}),Object(N.jsx)("input",{type:"email",name:"email",ref:t,onChange:function(){return B(t.current.value)},onBlur:D}),!U&&Object(N.jsx)("p",{className:et.a.error,children:V})]}),Object(N.jsxs)("div",{className:et.a.control,children:[Object(N.jsx)("label",{htmlFor:"email",children:"Password"}),Object(N.jsx)("input",{type:"password",name:"password",ref:n,onChange:function(){return M(n.current.value)},onBlur:W}),!Y&&Object(N.jsx)("p",{className:et.a.error,children:Z})]}),Object(N.jsxs)("div",{className:et.a.actions,children:[!C&&!_&&Object(N.jsx)("button",{type:"submit",className:G,children:s?"Login":"Sign up"}),(C||_)&&Object(N.jsx)("p",{children:"Loading..."}),y&&Object(N.jsx)("p",{className:et.a.error,children:y}),x&&Object(N.jsx)("p",{className:et.a.error,children:x}),Object(N.jsx)("button",{type:"button",className:et.a.toggle,onClick:function(){o(!s)},children:s?"Create new account":"Login with existing account"})]})]})]})},nt=function(){return Object(N.jsx)(tt,{})},at=n(18),rt=n.n(at),ct=function(){var e=Object(a.useState)(!1),t=Object(f.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!1),s=Object(f.a)(c,2),o=s[0],i=s[1],l=Object(a.useRef)(),u=De(),m=u.inputValue,d=u.isTouched,j=u.isValid,b=u.error,h=u.changeValue,p=u.checkValidity,O=localStorage.getItem("token"),x=Oe(we),_=x.sendRequest,g=x.data,v=Oe(Se),y=v.sendRequest,C=v.error;Object(a.useEffect)((function(){_({idToken:O})}),[_,O]);var w=function(){var e=Object(L.a)(q.a.mark((function e(t){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),o){e.next=7;break}if(!d||!j){e.next=7;break}return e.next=5,y({idToken:O,password:m});case 5:i(!0),C||r(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsxs)("section",{className:rt.a["profile-content"],children:[Object(N.jsx)("h2",{children:"Profile"}),g.data&&Object(N.jsxs)("div",{children:[Object(N.jsx)("img",{src:g.data.users[0].photoUrl,className:rt.a["profile-avatar"],alt:"User's avatar"}),Object(N.jsx)("h4",{children:g.data.users[0].displayName}),!n&&!o&&Object(N.jsx)("button",{className:rt.a["reset-btn"],onClick:function(){r(!0)},children:"Reset Password"}),!n&&o&&Object(N.jsx)("p",{className:rt.a.correct,children:"Password updated!"}),n&&Object(N.jsxs)("form",{className:rt.a["password-form"],onSubmit:w,children:[Object(N.jsx)("label",{htmlFor:"password",className:rt.a.label,children:"New Password"}),Object(N.jsx)("input",{className:rt.a.password,type:"password",name:"password",ref:l,onChange:function(){return h(l.current.value)},onBlur:p}),!j&&Object(N.jsx)("p",{className:rt.a.error,children:b}),C&&Object(N.jsx)("p",{className:rt.a.error,children:C}),Object(N.jsx)("button",{type:"submit",className:rt.a["submit-password"],children:"Submit"})]})]})]})},st=function(){return Object(N.jsx)(ct,{})},ot=function(){var e=Object(a.useState)(!1),t=Object(f.a)(e,2),n=t[0],r=t[1];return Object(N.jsxs)(a.Fragment,{children:[n&&Object(N.jsx)(E,{onClose:function(){r(!1)}}),Object(N.jsx)(he,{onOpen:function(){r(!0)}}),Object(N.jsx)("main",{children:Object(N.jsxs)(x.d,{children:[Object(N.jsx)(x.b,{path:"/",exact:!0,children:Object(N.jsx)(x.a,{to:"/products"})}),Object(N.jsx)(x.b,{path:"/products",exact:!0,children:Object(N.jsx)(ne,{})}),Object(N.jsx)(x.b,{path:"/products/:productId",children:Object(N.jsx)(Ge,{})}),Object(N.jsx)(x.b,{path:"/auth",exact:!0,children:Object(N.jsx)(nt,{})}),Object(N.jsx)(x.b,{path:"/profile",children:Object(N.jsx)(st,{})}),Object(N.jsx)(x.b,{path:"*",children:Object(N.jsx)(ae,{})})]})})]})};s.a.render(Object(N.jsx)(R.a,{children:Object(N.jsx)(o.a,{store:O,children:Object(N.jsx)(ot,{})})}),document.getElementById("root"))}],[[64,1,2]]]);
//# sourceMappingURL=main.7bca2450.chunk.js.map